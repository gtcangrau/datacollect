(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["847c0f42"],{"0486":function(t,e,n){"use strict";var a=n("5b12"),r=n.n(a);r.a},"504c":function(t,e,n){var a=n("9e1e"),r=n("0d58"),o=n("6821"),i=n("52a7").f;t.exports=function(t){return function(e){var n,s=o(e),c=r(s),l=c.length,u=0,d=[];while(l>u)n=c[u++],a&&!i.call(s,n)||d.push(t?[n,s[n]]:s[n]);return d}}},"5b12":function(t,e,n){},8615:function(t,e,n){var a=n("5ca1"),r=n("504c")(!1);a(a.S,"Object",{values:function(t){return r(t)}})},eba2:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"q-pa-md"},[n("q-table",{staticClass:"my-sticky-header-column-table",attrs:{title:"Survey Data",data:t.data,columns:t.columns,"row-key":"id",pagination:t.pagination,loading:t.loading,filter:t.filter,"binary-state-sort":""},on:{"update:pagination":function(e){t.pagination=e},request:t.onRequest},scopedSlots:t._u([{key:"top-right",fn:function(){return[n("q-input",{attrs:{border:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:t._u([{key:"append",fn:function(){return[n("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),n("q-icon",{staticClass:"text-secondary",staticStyle:{"font-size":"40px"},attrs:{name:"cloud_download"},on:{click:t.DownloadCsv}})]},proxy:!0},{key:"body",fn:function(e){return n("q-tr",{attrs:{id:e.row.id,props:e}},t._l(e.cols,(function(a){return n("q-td",{key:a.name,staticClass:"cursor-pointer",attrs:{props:e}},[a.field.startsWith("VCamera")||a.field.startsWith("VUpload")?n("q-avatar",{attrs:{icon:"assignment_returned",color:"secondary","text-color":"white",size:"md"},on:{click:function(e){return t.OpenImage(a.value)}}}):t._e(),a.field.startsWith("VCamera")||a.field.startsWith("VUpload")?n("span",{staticClass:"gt-sm inline"}):n("span",{staticClass:"gt-sm inline"},[t._v(t._s(a.value))])],1)})),1)}}])}),n("q-dialog",{attrs:{persistent:"","transition-show":"flip-down","transition-hide":"flip-up"},model:{value:t.download,callback:function(e){t.download=e},expression:"download"}},[n("q-card",[n("q-bar",[n("q-space"),n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close"}},[n("q-tooltip",{attrs:{"content-class":"bg-white text-primary"}},[t._v("Close")])],1)],1),n("q-card-section",[n("div",{staticClass:"text-h6"},[t._v("Download Image")])]),n("q-card-section",[n("q-list",{attrs:{bordered:""}},t._l(t.images,(function(e,a){return n("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:a,attrs:{clickable:""},on:{click:function(n){return t.DownloadImage(e)}}},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{color:"secondary",name:"cloud_download"}})],1),n("q-item-section",[t._v(t._s(e))])],1)})),1)],1)],1)],1)],1)},r=[],o=(n("8e6e"),n("8a81"),n("456d"),n("28a5"),n("7f7f"),n("55dd"),n("3b2b"),n("4917"),n("6b54"),n("ac6a"),n("cadf"),n("06db"),n("8615"),n("967e")),i=n.n(o),s=n("4db1"),c=n.n(s),l=(n("96cf"),n("fa84")),u=n.n(l),d=n("c47a"),p=n.n(d),f=n("2f62"),g=n("6f3f");function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(n,!0).forEach((function(e){p()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var v=g["a"].get("collect"),w={props:["id","Project"],data:function(){return{filter:"",loading:!1,download:!1,pagination:{sortBy:"",descending:!1,page:1,rowsPerPage:20,rowsNumber:10},columns:[],data:[],original:[],images:[]}},created:function(){console.log("Created"),this.aPageTitle("Project Data"),this.columns=[]},mounted:function(){console.log("Mounted"),this.onRequest({pagination:this.pagination,filter:void 0})},methods:m({},Object(f["b"])("VuexStore",["aPageTitle"]),{onRequest:function(){var t=u()(i.a.mark((function t(e){var n,a,r,o,s,l,u,d=this;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.pagination,a=n.page,r=n.rowsPerPage,o=n.rowsNumber,s=n.sortBy,l=n.descending,u=e.filter,this.loading=!0,console.log("calling the server data"),t.next=6,this.fetchData();case 6:setTimeout((function(){var t;d.pagination.rowsNumber=d.getRowsNumberCount(u);var e=0===r?o:r,n=(a-1)*r,i=d.fetchFromServer(n,e,u,s,l);console.log("completed fetch from server"),(t=d.data).splice.apply(t,[0,d.data.length].concat(c()(i))),d.pagination.page=a,d.pagination.rowsPerPage=r,d.pagination.sortBy=s,d.pagination.descending=l,d.loading=!1}),1e3);case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),fetchFromServer:function(t,e,n,a,r){console.log("fetch from server called");var o=[];if(n)for(var i=0,s=t,c=0;s<this.original.length&&c<e;++s){var l=this.original[s],u=Object.values(l),d=u.toString(),p=d.match(new RegExp(n,"i"));p&&(++i,i>=t&&(o.push(l),++c))}else o=this.original.slice(t,t+e);return a&&o.sort((function(t,e){var n=r?e:t,o=r?t:e;return"desc"===a?n[a]>o[a]?1:n[a]<o[a]?-1:0:parseFloat(n[a])-parseFloat(o[a])})),console.log("Fetch from server",o),o},getRowsNumberCount:function(t){if(console.log("getRowsNumberCount "),!t)return this.original.length;var e=0;return this.original.forEach((function(n){var a=Object.values(n),r=a.toString(),o=r.match(new RegExp(t,"i"));o&&++e})),console.log("count matches",e),e},fetchData:function(){var t=u()(i.a.mark((function t(){var e,n;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("Fetch Data Called"),this.$q.loading.show({delay:400}),t.prev=2,this.columns=this.Project.selectedComponents.map((function(t,e,n){var a={name:t.question,label:t.question,field:t.name,align:"left"};return a})),e={project_id:this.id},t.next=7,v.fetchProjectData(e,1,0);case 7:n=t.sent,this.original=n.data.result,this.original=n.data.result.map((function(t,e,n){return t.display})),t.next=14;break;case 12:t.prev=12,t.t0=t["catch"](2);case 14:return t.prev=14,this.$q.loading.hide(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[2,12,14,17]])})));function e(){return t.apply(this,arguments)}return e}(),OpenImage:function(t){this.download=!0,this.images=t.split(",")},DownloadImage:function(t){window.open(v.getDownloadUrl()+t,"_blank")},DownloadCsv:function(){var t=u()(i.a.mark((function t(){return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:window.open(v.getCsvDownloadUrl(this.id,1,0),"_blank");case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()})},b=w,y=(n("0486"),n("2877")),q=Object(y["a"])(b,a,r,!1,null,null,null);e["default"]=q.exports}}]);